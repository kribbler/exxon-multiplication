{"version":3,"sources":["default.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["jQuery(document).ready(function() {\n    var minutes = 0;\n    var maxim_add = 49;\n    var maxim_sub = 50;\n    var maxim_sub_up = 50;\n    var a;\n    var b;\n    var sign;\n    var total = 0;\n    var responded = false;\n    var saved = 0;\n    \n    var snd_success = new Audio(\"audio/success.mp3\");\n    var snd_error = new Audio(\"audio/error.mp3\");\n\n    show_previous();\n    generate();\n\n    $('#check').click(function() {\n        if (!$('#result').val()) {\n            $('#result').addClass('forget');\n            return false;\n        }\n        if ($('#check').hasClass('disabled')) {\n            return false;\n        }\n        var number_1 = $('#show_number_1').html();\n        var number_2 = $('#show_number_2').html();\n        var sign = $('#show_sign').html();\n        var result = $('#result').val();\n\n        var calc = eval(number_1 + sign + number_2);\n        if (calc != result) {\n            snd_error.play();\n            $('#response').html('<div class=\"bdanger\">F<br />A<br />I<br />L</div>');\n            $('.sad').append('<img src=\"img/sad.png\" width=\"50%\" />');\n            minutes = minutes-1;\n        } else {\n            snd_success.play();\n            $('#response').html('<div class=\"bsuccess\"> A<br />W<br />E<br />S<br />O<br />M<br />E</div>');\n            $('.sad').append('<img src=\"img/happy.png\" width=\"50%\" />');\n            minutes = minutes+1;\n        }\n        $('#minutes').html(minutes);\n        $('#response').fadeIn();\n        $('#again').show();\n        if (total != result) {\n            tr_style = 'adanger';\n        } else {\n            tr_style = 'asuccess';\n        }\n        $('#result').removeClass('forget');\n        $('#results').append(\n            \"<div class='\"+tr_style+\"'><span>\" + a + \" \" + sign + \" \" + b + \"</span><span> = \" + result + \"</span></div>\"\n        );\n        $('#check').addClass('disabled');\n        responded = true;\n\n        var url = 'exercises/save';\n        var data = {\n            \"saved\" : saved ,\n            \"correct\" : (calc == result) ? 1 : 0,\n        };\n        \n        $.ajax({\n            type: \"POST\",\n            url: url,\n            data: data,\n            success: success,\n            error: error,\n            async: true,\n            dataType: 'text'\n        });\n\n        function success(data) {\n            saved = 1;\n            console.log(data);\n        }\n        function error(data) {\n        }\n    });\n\n    $(document).keyup(function(event){\n        if(event.keyCode == 13){\n            if (!responded)\n                $(\"#check\").click();\n            else \n                $(\"#again\").click();\n        }\n    });\n\n    $('#again').click(function(){\n        responded = false;\n        $('#check').removeClass('disabled');\n        $('#response').fadeOut();\n        generate();\n    });\n\n    function generate() {\n        $('#result').focus();\n        $('#result').val('');\n        $('#again').hide();\n        \n        sign = Math.floor(Math.random() * 2) + 0;\n        if (sign == 1) {\n            sign = \"-\";\n        } else {\n            sign = \"+\";\n        }\n\n        if (sign == '-') {\n            maxim = maxim_sub;\n            a = Math.floor(Math.random() * maxim) + 5;\n            b = Math.floor(Math.random() * maxim_sub_up) + 1;\n        } else {\n            maxim = maxim_add;\n            a = Math.floor(Math.random() * maxim) + 5;\n            b = Math.floor(Math.random() * maxim) + 5;\n        }\n        \n\n        if (sign == '-') {\n            if (a >= b ) {\n                total = eval(a + sign + b);        \n            } else {\n                total = eval(b + sign + a);\n            }\n        } else {\n            total = eval(a + sign + b);\n        }\n\n        if (a < b) {\n            c = a;\n            a = b;\n            b = c;\n        }\n\n        $('#show_number_1').html(a);\n        $('#show_number_2').html(b);\n        $('#show_sign').html(sign);\n        $('#minutes').html(minutes);\n    }\n\n    function show_previous()\n    {\n        $.ajax({\n            type: \"get\",\n            url: 'exercises/getPrevious',\n            success: success,\n            async: true,\n        });\n\n        function success(data) {\n            var obj = jQuery.parseJSON(data);\n            var total = 0;\n            var correct = 0;\n            $.each(obj, function(key,value) {\n                $('#exercises').append(\n                    \"<tr><td>\" + value.date + \"</td><td>\" + value.total + \"</td><td>\" + value.correct + \"</td></tr>\"\n                );\n                total += value.total;\n                correct += value.correct;\n            });\n            $('#exercises').append(\n                '<tfoot><tr><td></td><td>'+total+'</td><td>'+correct+'</td></tr></tfoot>'\n            )\n        }\n    }\n})"]}